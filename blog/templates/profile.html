{% extends 'base.html' %}
{% load static humanize %}
{% block title %}–ü—Ä–æ—Ñ–∏–ª—å ‚Äî {{ user.username }}{% endblock %}
{% block content %}
<div class="profile-header">
    {% if user.profile.avatar %}
        <img src="{{ user.profile.avatar.url }}" alt="–ê–≤–∞—Ç–∞—Ä" class="profile-avatar">
    {% else %}
        <div class="profile-avatar" style="display: flex; align-items: center; justify-content: center; background: #bdc3c7; color: white;">
            {{ user.username|first|upper }}
        </div>
    {% endif %}
    <div class="profile-info">
        <h2>{{ user.username }}</h2>
        <p>{{ user.profile.bio|default:"–ü–æ–∫–∞ –Ω–∏—á–µ–≥–æ –Ω–µ –Ω–∞–ø–∏—Å–∞–ª(–∞) –æ —Å–µ–±–µ." }}</p>
        <p>
            <a href="{% url 'edit_profile' %}">‚úé –†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å –ø—Ä–æ—Ñ–∏–ª—å</a> |
            <a href="{% url 'delete_profile' %}" class="danger">üóë –£–¥–∞–ª–∏—Ç—å –∞–∫–∫–∞—É–Ω—Ç</a>
        </p>
    </div>
</div>
<h2>–í–∞—à–∏ –ø–æ—Å—Ç—ã ({{ user_posts.paginator.count }})</h2>
{% for post in user_posts %}
<article class="post">
    <header>
        <strong>–í—ã</strong>
        <small title="{{ post.created_at }}">{{ post.created_at|naturaltime }}</small>
    </header>
    <div class="post-content">{{ post.content }}</div>
    <div class="post-meta">
        üëç {{ post.like_count }} | üí¨ {{ post.comment_count }} |
        <a href="{% url 'edit_post' post.pk %}">‚úé</a>
        <a href="{% url 'delete_post' post.pk %}" class="danger">üóë</a>
    </div>
</article>
{% empty %}
<p>–£ –≤–∞—Å –ø–æ–∫–∞ –Ω–µ—Ç –ø–æ—Å—Ç–æ–≤.</p>
{% endfor %}
{% if user_posts.has_other_pages %}
<div class="pagination">
    {% if user_posts.has_previous %}
        <a href="?page={{ user_posts.previous_page_number }}">&larr; –ù–∞–∑–∞–¥</a>
    {% endif %}
    –°—Ç—Ä–∞–Ω–∏—Ü–∞ {{ user_posts.number }} –∏–∑ {{ user_posts.paginator.num_pages }}
    {% if user_posts.has_next %}
        <a href="?page={{ user_posts.next_page_number }}">–í–ø–µ—Ä—ë–¥ &rarr;</a>
    {% endif %}
</div>
{% endif %}
{% endblock %}
